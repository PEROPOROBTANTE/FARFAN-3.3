# ===============================================================================
# FARFAN 3.3 - Requirements File
# ===============================================================================
#
# IMPORTANT: Deep Learning Library Conflicts
# -------------------------------------------
# This file does NOT include PyTorch or TensorFlow to avoid dependency conflicts.
# You must choose ONE of the following installation strategies:
#
# 1. PyTorch Only (RECOMMENDED):
#    pip install -r requirements.txt -r requirements-torch.txt
#
# 2. TensorFlow Only:
#    pip install -r requirements.txt -r requirements-tensorflow.txt
#
# 3. Both Libraries (NOT RECOMMENDED):
#    pip install -r requirements.txt -r requirements-both.txt
#    See DEPENDENCY_CONFLICTS.md for risks and mitigation strategies
#
# After installation, validate with:
#    python validate_dependencies.py --strategy torch
#
# For detailed information, see:
#    - DEPENDENCY_CONFLICTS.md - Comprehensive conflict resolution guide
#    - AGENTS.md - Development setup instructions
#    - pyproject.toml - Optional dependencies configuration
#
# Python Version Support:
#    - Recommended: Python 3.10 or 3.11
#    - Limited Support: Python 3.12 (some deep learning libraries may have issues)
#
# ===============================================================================

# === Dependencias Principales ===
# Procesamiento y análisis de lenguaje español
spacy==3.7.2
spacy-lookups-data==1.0.3
# Spanish spaCy models (install with: python -m spacy download es_core_news_sm && python -m spacy download es_core_news_lg)
# es-core-news-sm @ https://github.com/explosion/spacy-models/releases/download/es_core_news_sm-3.7.0/es_core_news_sm-3.7.0-py3-none-any.whl
# es-core-news-lg @ https://github.com/explosion/spacy-models/releases/download/es_core_news_lg-3.7.0/es_core_news_lg-3.7.0-py3-none-any.whl

# NLP específico para español
stanza==1.5.0
nltk==3.8.1
# Stemmer específico para español
# pystemmer==2.2.0  # Commented out - build issue on Python 3.10+
# Librería para lematización en español
# pyfreeling==0.2  # Commented out - not available on PyPI

# Procesamiento y análisis de datos
numpy==1.24.3
pandas==2.0.3
scikit-learn==1.3.0
matplotlib==3.7.2
seaborn==0.12.2

# === Dependencias para procesamiento de texto avanzado ===
# ADVERTENCIA: PyTorch y TensorFlow pueden causar conflictos de dependencias binarias
# cuando se usan simultáneamente. Considere usar solo una librería según su caso de uso.
#
# Para instalación con solo PyTorch: pip install -r requirements.txt -r requirements-torch.txt
# Para instalación con solo TensorFlow: pip install -r requirements.txt -r requirements-tensorflow.txt
#
# Si necesita ambas librerías, las versiones deben ser cuidadosamente coordinadas
# para evitar conflictos en dependencias transitivas (keras, protobuf, numpy, etc.)

# Transformers - Compatible con torch 2.0.1+ y tensorflow 2.13.0
transformers==4.34.0

# Sentence transformers - Requiere torch o tensorflow como backend
# Por defecto usa PyTorch si está disponible
sentence-transformers==2.2.2

# NOTA: Las versiones específicas de torch y tensorflow se encuentran en:
# - requirements-torch.txt (para uso solo con PyTorch)
# - requirements-tensorflow.txt (para uso solo con TensorFlow)
# - requirements-both.txt (para uso simultáneo - NO RECOMENDADO)
#
# Modelos preentrenados específicos para español
# beto-uncased @ https://huggingface.co/dccuchile/bert-base-spanish-wwm-uncased  # Commented out - invalid format

# === Análisis lingüístico avanzado ===
# Detección de sentimientos en español
pysentimiento==0.6.6
# Análisis morfológico para español
# freeling==4.2  # Commented out - not available on PyPI

# === Herramientas de desarrollo ===
pytest
pytest-watch==4.2.0
black==23.9.1
flake8==6.1.0
isort==5.12.0
mypy==1.5.1

# === Data validation and models ===
# ADVERTENCIA: pydantic 2.x puede causar incompatibilidades con algunas librerías
# que esperan pydantic 1.x. Si experimenta problemas, considere usar pydantic<2.0
pydantic==2.5.0
pydantic-core==2.14.5  # Pin core dependency to avoid conflicts
hypothesis==6.92.1

# === Gestión de dependencias ===
pip-tools==7.3.0  # Para gestionar y sincronizar requirements.txt
pipdeptree==2.13.0  # Para visualizar dependencias y detectar conflictos

# === Otras utilidades ===
tqdm==4.66.1
requests==2.31.0
python-dotenv==1.0.0
pyyaml==6.0.1
networkx==3.1

# === Documentación ===
sphinx==7.2.6
sphinx-rtd-theme==1.3.0

# === API and Security Dependencies ===
# FastAPI and ASGI server
fastapi==0.104.1
uvicorn[standard]==0.24.0
# Security and authentication
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
# CORS and security middleware
slowapi==0.1.9
# Monitoring and metrics
prometheus-client==0.19.0
psutil==5.9.6
