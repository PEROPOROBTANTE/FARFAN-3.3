# FARFAN 3.0 Environment Configuration
# Copy this file to .env and configure for your environment

# ==============================================================================
# CORE CONFIGURATION
# ==============================================================================

# Environment: development, staging, or production
FARFAN_ENV=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
FARFAN_LOG_LEVEL=INFO

# Base directories
FARFAN_DATA_DIR=/path/to/data
FARFAN_CONFIG_DIR=/path/to/config
FARFAN_LOG_DIR=/path/to/logs
FARFAN_OUTPUT_DIR=/path/to/output

# ==============================================================================
# PIPELINE SETTINGS
# ==============================================================================

# Execution settings
FARFAN_WORKERS=4
FARFAN_TIMEOUT_SECONDS=3600
FARFAN_BATCH_SIZE=10
FARFAN_MAX_PLANS=100

# Retry configuration
FARFAN_RETRY_ENABLED=true
FARFAN_MAX_RETRIES=3
FARFAN_RETRY_DELAY_SECONDS=5
FARFAN_RETRY_BACKOFF_MULTIPLIER=2.0

# ==============================================================================
# DETERMINISM SETTINGS
# ==============================================================================

# Fixed seed for reproducibility (CRITICAL for deterministic execution)
FARFAN_RANDOM_SEED=42

# Enforce determinism verification
FARFAN_DETERMINISM_ENABLED=true

# Determinism verification runs (minimum 3 recommended)
FARFAN_DETERMINISM_VERIFICATION_RUNS=3

# Hash algorithm for output verification: sha256, sha512
FARFAN_HASH_ALGORITHM=sha256

# ==============================================================================
# CIRCUIT BREAKER CONFIGURATION
# ==============================================================================

# Enable circuit breaker for fault tolerance
FARFAN_CIRCUIT_BREAKER_ENABLED=true

# Number of failures before circuit opens
FARFAN_CIRCUIT_BREAKER_THRESHOLD=5

# Recovery timeout in seconds
FARFAN_CIRCUIT_BREAKER_TIMEOUT=60

# Half-open state test request count
FARFAN_CIRCUIT_BREAKER_HALF_OPEN_REQUESTS=1

# ==============================================================================
# TELEMETRY AND MONITORING
# ==============================================================================

# Enable telemetry collection
FARFAN_TELEMETRY_ENABLED=true

# Telemetry endpoint (time-series database or collector)
FARFAN_TELEMETRY_ENDPOINT=http://localhost:9090

# Batch configuration
FARFAN_TELEMETRY_BATCH_SIZE=100
FARFAN_TELEMETRY_BATCH_INTERVAL_MS=1000

# Telemetry storage retention
FARFAN_TELEMETRY_RETENTION_DAYS=30

# Structured logging format: json, text
FARFAN_LOG_FORMAT=json

# ==============================================================================
# DASHBOARD CONFIGURATION
# ==============================================================================

# Enable web dashboard
FARFAN_DASHBOARD_ENABLED=true

# Dashboard server settings
FARFAN_DASHBOARD_HOST=0.0.0.0
FARFAN_DASHBOARD_PORT=5000

# Dashboard configuration file
FARFAN_DASHBOARD_CONFIG=config/dashboard_config.json

# Dashboard refresh interval (milliseconds)
FARFAN_DASHBOARD_REFRESH_MS=5000

# Dashboard theme: dark, light
FARFAN_DASHBOARD_THEME=dark

# ==============================================================================
# NLP AND ML MODELS
# ==============================================================================

# spaCy model for Spanish text processing
FARFAN_SPACY_MODEL=es_core_news_lg
FARFAN_SPACY_MODEL_SM=es_core_news_sm

# Sentence transformer model for embeddings
FARFAN_EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# Alternative embedding models (comma-separated)
# FARFAN_EMBEDDING_MODEL=sentence-transformers/distiluse-base-multilingual-cased-v2

# Model cache directory
FARFAN_MODEL_CACHE_DIR=/path/to/model_cache

# Download models automatically if missing
FARFAN_AUTO_DOWNLOAD_MODELS=true

# Device for ML inference: cpu, cuda, mps
FARFAN_DEVICE=cpu

# Batch size for embedding generation
FARFAN_EMBEDDING_BATCH_SIZE=32

# Maximum sequence length for embeddings
FARFAN_MAX_SEQUENCE_LENGTH=512

# ==============================================================================
# ADAPTER CONFIGURATION
# ==============================================================================

# Adapter timeout (milliseconds)
FARFAN_ADAPTER_TIMEOUT_MS=30000

# Enable adapter result caching
FARFAN_ADAPTER_CACHE_ENABLED=true

# Cache directory
FARFAN_ADAPTER_CACHE_DIR=/path/to/cache

# Cache TTL (seconds)
FARFAN_ADAPTER_CACHE_TTL=3600

# Cache max size (MB)
FARFAN_ADAPTER_CACHE_MAX_SIZE_MB=1024

# ==============================================================================
# DATABASE CONFIGURATION (if applicable)
# ==============================================================================

# Database type: postgresql, mysql, sqlite
FARFAN_DB_TYPE=postgresql

# Connection settings
FARFAN_DB_HOST=localhost
FARFAN_DB_PORT=5432
FARFAN_DB_NAME=farfan
FARFAN_DB_USER=farfan_user
FARFAN_DB_PASSWORD=secure_password

# Connection pool settings
FARFAN_DB_POOL_SIZE=10
FARFAN_DB_MAX_OVERFLOW=20
FARFAN_DB_POOL_TIMEOUT=30

# Enable SSL
FARFAN_DB_SSL_ENABLED=false
FARFAN_DB_SSL_CA_CERT=/path/to/ca-cert.pem

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================

# Application secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
FARFAN_SECRET_KEY=your-secret-key-here-replace-with-random-value

# Data encryption key (AES-256)
FARFAN_ENCRYPTION_KEY=your-encryption-key-here-replace-with-random-value

# Enable authentication
FARFAN_AUTH_ENABLED=false

# JWT token expiration (seconds)
FARFAN_JWT_EXPIRATION=3600

# Allowed hosts (comma-separated)
FARFAN_ALLOWED_HOSTS=localhost,127.0.0.1

# CORS origins (comma-separated)
FARFAN_CORS_ORIGINS=http://localhost:3000,http://localhost:5000

# Enable HTTPS enforcement
FARFAN_FORCE_HTTPS=false

# ==============================================================================
# AUDIT AND COMPLIANCE
# ==============================================================================

# Enable audit logging
FARFAN_AUDIT_ENABLED=true

# Audit log directory
FARFAN_AUDIT_LOG_DIR=/path/to/audit_logs

# Audit log format: json, csv
FARFAN_AUDIT_LOG_FORMAT=json

# Audit log retention (days)
FARFAN_AUDIT_RETENTION_DAYS=2555  # 7 years

# Enable contract validation
FARFAN_CONTRACT_VALIDATION_ENABLED=true

# Contract schema directory
FARFAN_CONTRACT_SCHEMA_DIR=config/contracts

# ==============================================================================
# PERFORMANCE TUNING
# ==============================================================================

# Thread pool size for parallel execution
FARFAN_THREAD_POOL_SIZE=8

# Process pool size for CPU-intensive tasks
FARFAN_PROCESS_POOL_SIZE=4

# Memory limit per worker (MB)
FARFAN_WORKER_MEMORY_LIMIT_MB=2048

# Enable garbage collection tuning
FARFAN_GC_TUNING_ENABLED=true

# Chunk size for batch processing
FARFAN_CHUNK_SIZE=1000

# ==============================================================================
# DEVELOPMENT AND TESTING
# ==============================================================================

# Enable debug mode (NEVER use in production)
FARFAN_DEBUG=false

# Enable profiling
FARFAN_PROFILING_ENABLED=false

# Profile output directory
FARFAN_PROFILE_DIR=/path/to/profiles

# Enable test mode
FARFAN_TEST_MODE=false

# Test data directory
FARFAN_TEST_DATA_DIR=/path/to/test_data

# Mock external dependencies in tests
FARFAN_MOCK_EXTERNAL=true

# ==============================================================================
# EXTERNAL SERVICES (if applicable)
# ==============================================================================

# Email notifications
FARFAN_EMAIL_ENABLED=false
FARFAN_SMTP_HOST=smtp.example.com
FARFAN_SMTP_PORT=587
FARFAN_SMTP_USER=notifications@example.com
FARFAN_SMTP_PASSWORD=smtp_password
FARFAN_EMAIL_FROM=farfan@example.com

# Slack notifications
FARFAN_SLACK_ENABLED=false
FARFAN_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Sentry error tracking
FARFAN_SENTRY_ENABLED=false
FARFAN_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

# Enable experimental features
FARFAN_EXPERIMENTAL_FEATURES=false

# Enable canary deployment mode
FARFAN_CANARY_MODE=false

# Canary percentage (0-100)
FARFAN_CANARY_PERCENTAGE=10

# Enable A/B testing
FARFAN_AB_TESTING_ENABLED=false

# ==============================================================================
# COLOMBIAN-SPECIFIC SETTINGS
# ==============================================================================

# Colombian administrative divisions
FARFAN_COUNTRY_CODE=CO
FARFAN_LANGUAGE=es
FARFAN_TIMEZONE=America/Bogota

# Colombian policy document standards
FARFAN_PDM_VERSION=2024
FARFAN_MUNICIPAL_CODES_FILE=config/colombian_municipal_codes.csv

# Colombian financial year (e.g., 2024)
FARFAN_FISCAL_YEAR=2024

# ==============================================================================
# NOTES
# ==============================================================================

# 1. NEVER commit the actual .env file to version control
# 2. Keep production secrets in a secure secrets manager (e.g., AWS Secrets Manager, HashiCorp Vault)
# 3. Rotate secrets regularly
# 4. Use strong, randomly generated values for all secret keys
# 5. Different environments (dev/staging/prod) should have separate .env files
# 6. Document any custom environment variables in CONTRIBUTING.md
# 7. Validate all required variables at application startup

# Generate secure random keys:
# python -c "import secrets; print('SECRET_KEY=' + secrets.token_hex(32))"
# python -c "import secrets; print('ENCRYPTION_KEY=' + secrets.token_hex(32))"
